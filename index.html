<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAT Reading and Writing Practice</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.1/font/bootstrap-icons.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #ffffff;
            color: #000000;
            margin: 0;
            padding: 0;
        }
        .navbar, .bbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 5px;
            background-color: #e4ecfc;
            font-weight: bold;
        }
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }
        .bbar {
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 70px;
        }
        .nav-left {
            font-size: 1.2em;
            padding-left: 15px;
        }
        .nav-center {
            font-size: 19px;
        }
        .nav-right {
            margin-right: 15px;
        }
        .nav-button {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 9px 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);
        }
        .nav-button:hover {
            background: linear-gradient(135deg, #0056b3, #004494);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 123, 255, 0.3);
        }
        .divider {
            border-bottom: 2px dotted #333333;
            margin: 0 20px;
        }
        .container-fluid {
            padding: 80px 20px 90px;
        }
        .row {
            display: flex;
            align-items: start;
        }
        .col-md-6 {
            flex: 0 0 48%;
            max-width: 48%;
            padding: 15px;
        }
        .vertical-line {
            width: 1px;
            background-color: #cccccc;
            height: 100%;
            min-height: 450px;
        }
        #question-id, #question {
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .gray-bar {
            background-color: #f0f0f0;
            padding: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }
        .question-number {
            background-color: #000000;
            color: #ffffff;
            padding: 5px 10px;
            margin-right: 20px;
            font-weight: bold;
        }
        .bookmark {
            background-color: transparent;
            border: none;
            color: #000000;
            cursor: pointer;
        }
        #options label {
            display: block;
            margin-bottom: 10px;
        }
        .highlight {
            background-color: yellow;
        }
        #question.annotating {
            cursor: text;
            user-select: text;
        }
        .strikethrough {
            text-decoration: line-through;
            color: gray;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="nav-left">Practice: Reading and Writing</div>
        <div class="nav-center">
            <div id="stopwatch">00:00</div>
        </div>
        <div class="nav-right">
            <button class="nav-button" id="annotateBtn">Annotate</button>
            <button class="nav-button" id="infoBtn">How to use</button>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <div id="question-id">1</div>
                <div id="question">
                    In recommending Bao Phi's collection *SÃ´ng I Sing*, a librarian noted that pieces by the spoken-word poet don't lose their ______ nature when printed: the language has the same pleasant musical quality on the page as it does when performed by Phi.
                </div>
            </div>
            <div class="vertical-line"></div>
            <div class="col-md-6">
                <div class="gray-bar">
                    <div class="question-number">1</div>
                    <button class="bookmark">
                        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                            <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"/>
                        </svg>
                    </button>
                    <div class="mark-review">&emsp;Mark for Review</div>
                </div>
                <div id="options">
                    <label><input type="radio" name="option" value="A"> A) scholarly</label>
                    <label><input type="radio" name="option" value="B"> B) melodic</label>
                    <label><input type="radio" name="option" value="C"> C) jarring</label>
                    <label><input type="radio" name="option" value="D"> D) personal</label>
                </div>
                <div id="feedback"></div>
                <div id="explanation"></div>
            </div>
        </div>
    </div>

    <div class="bbar">
        <div class="nav-left">SAT Educator Question Bank</div>
        <div class="nav-center">
            <div id="scoreResult"></div>
        </div>
        <div class="nav-right">
            <button class="nav-button" id="calculateScoreBtn">Calculate Score</button>
            <button class="nav-button" id="submit">Submit</button>
            <button class="nav-button" id="next">Next</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let isAnnotating = false;
        let isBookmarkActive = false;
        let minutes = 0;
        let seconds = 0;
        let intervalId = null;

        const annotateBtn = document.getElementById('annotateBtn');
        const questionDiv = document.getElementById('question');
        const bookmarkButton = document.querySelector('.bookmark');
        const optionsContainer = document.getElementById('options');
        const stopwatchElement = document.getElementById('stopwatch');
        const calculateScoreBtn = document.getElementById('calculateScoreBtn');
        const submitBtn = document.getElementById('submit');
        const nextBtn = document.getElementById('next');

        function toggleAnnotation() {
            isAnnotating = !isAnnotating;
            questionDiv.classList.toggle('annotating', isAnnotating);
            annotateBtn.textContent = isAnnotating ? 'Stop Annotating' : 'Annotate';
        }

        function highlightSelection() {
            if (!isAnnotating) return;
            const selection = window.getSelection();
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                if (!range.collapsed) {
                    const span = document.createElement('span');
                    span.className = 'highlight';
                    range.surroundContents(span);
                    selection.removeAllRanges();
                }
            }
        }

        function toggleBookmark() {
            isBookmarkActive = !isBookmarkActive;
            const labels = optionsContainer.querySelectorAll('label');
            labels.forEach(label => {
                if (isBookmarkActive) {
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.className = 'option-checkbox';
                    checkbox.addEventListener('change', () => {
                        label.classList.toggle('strikethrough', checkbox.checked);
                    });
                    label.insertBefore(checkbox, label.firstChild);
                } else {
                    const checkbox = label.querySelector('.option-checkbox');
                    if (checkbox) {
                        label.classList.remove('strikethrough');
                        label.removeChild(checkbox);
                    }
                }
            });
        }

        function updateStopwatch() {
            seconds++;
            if (seconds === 60) {
                seconds = 0;
                minutes++;
            }
            stopwatchElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function startStopwatch() {
            if (intervalId === null) {
                intervalId = setInterval(updateStopwatch, 1000);
            }
        }

        function stopStopwatch() {
            if (intervalId !== null) {
                clearInterval(intervalId);
                intervalId = null;
            }
        }

        function resetStopwatch() {
            stopStopwatch();
            minutes = 0;
            seconds = 0;
            stopwatchElement.textContent = '00:00';
        }

        annotateBtn.addEventListener('click', toggleAnnotation);
        questionDiv.addEventListener('mouseup', highlightSelection);
        bookmarkButton.addEventListener('click', toggleBookmark);
        calculateScoreBtn.addEventListener('click', () => {
            // Implement score calculation logic here
            console.log('Calculating score...');
        });
        submitBtn.addEventListener('click', () => {
            // Implement answer submission logic here
            console.log('Submitting answer...');
        });
        nextBtn.addEventListener('click', () => {
            // Implement next question logic here
            console.log('Loading next question...');
        });

        // Start the stopwatch when the page loads
        startStopwatch();
    </script>
</body>
</html>
